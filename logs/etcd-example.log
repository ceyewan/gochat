{"level":"info","timestamp":"2025-07-21T23:15:31.610+0800","module":"etcd","caller":"etcd-client/example_usage.go:27","message":"开始 etcd 示例程序"}
{"level":"info","timestamp":"2025-07-21T23:15:31.611+0800","module":"etcd","caller":"etcd-client/example_usage.go:44","message":"=== 基本客户端示例 ==="}
{"level":"info","timestamp":"2025-07-21T23:15:31.611+0800","module":"etcd","caller":"etcd/client.go:33","message":"开始创建 etcd 客户端","endpoints":["localhost:2379"],"dial_timeout":5}
{"level":"info","timestamp":"2025-07-21T23:15:31.612+0800","module":"etcd","caller":"etcd/client.go:49","message":"etcd 客户端创建成功","endpoints":["localhost:2379"]}
{"level":"info","timestamp":"2025-07-21T23:15:31.612+0800","module":"etcd","caller":"etcd-client/example_usage.go:60","message":"基本客户端创建成功"}
{"level":"info","timestamp":"2025-07-21T23:15:31.612+0800","module":"etcd","caller":"etcd/client.go:91","message":"开始关闭 etcd 客户端连接"}
{"level":"info","timestamp":"2025-07-21T23:15:31.612+0800","module":"etcd","caller":"etcd/client.go:99","message":"etcd 客户端连接已关闭"}
{"level":"info","timestamp":"2025-07-21T23:15:31.612+0800","module":"etcd","caller":"etcd-client/example_usage.go:66","message":"=== 管理器示例 ==="}
{"level":"info","timestamp":"2025-07-21T23:15:31.613+0800","module":"etcd","caller":"etcd/manager.go:37","message":"开始创建 etcd 管理器"}
{"level":"info","timestamp":"2025-07-21T23:15:31.613+0800","module":"etcd","caller":"etcd/manager.go:44","message":"etcd 管理器配置","endpoints":["localhost:2379"],"dial_timeout":5,"service_prefix":"/services","default_ttl":30}
{"level":"info","timestamp":"2025-07-21T23:15:31.613+0800","module":"etcd","caller":"etcd/manager.go:57","message":"开始初始化组件"}
{"level":"info","timestamp":"2025-07-21T23:15:31.613+0800","module":"etcd","caller":"etcd/options.go:328","message":"etcd info","args":["开始初始化 etcd 组件"]}
{"level":"debug","timestamp":"2025-07-21T23:15:31.613+0800","module":"etcd","caller":"etcd/options.go:323","message":"etcd debug","args":["创建连接管理器"]}
{"level":"info","timestamp":"2025-07-21T23:15:31.613+0800","module":"etcd","caller":"etcd/options.go:328","message":"etcd info","args":["建立 etcd 连接",{"Key":"endpoints","Type":1,"Integer":0,"String":"","Interface":["localhost:2379"]}]}
{"level":"error","timestamp":"2025-07-21T23:15:36.615+0800","module":"etcd","caller":"etcd/options.go:338","message":"etcd error","args":["连接 etcd 失败",{"Key":"error","Type":26,"Integer":0,"String":"","Interface":{"type":"CONNECTION_ERROR","code":1000,"message":"failed to connect to etcd","cause":{}}}],"stacktrace":"github.com/ceyewan/gochat/im-infra/etcd.(*ClogAdapter).Error\n\t/Users/harrick/CodeField/gochat/im-infra/etcd/options.go:338\ngithub.com/ceyewan/gochat/im-infra/etcd.(*etcdManager).initializeComponents\n\t/Users/harrick/CodeField/gochat/im-infra/etcd/manager.go:89\ngithub.com/ceyewan/gochat/im-infra/etcd.NewEtcdManager\n\t/Users/harrick/CodeField/gochat/im-infra/etcd/manager.go:58\nmain.managerExample\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:81\nmain.main\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:33\nruntime.main\n\t/opt/homebrew/Cellar/go/1.24.3/libexec/src/runtime/proc.go:283"}
{"level":"error","timestamp":"2025-07-21T23:15:36.615+0800","module":"etcd","caller":"etcd/manager.go:59","message":"初始化组件失败","error":"[CONNECTION_ERROR] failed to connect to etcd: [CONNECTION_ERROR] failed to connect to etcd: context deadline exceeded","stacktrace":"github.com/ceyewan/gochat/im-infra/etcd.NewEtcdManager\n\t/Users/harrick/CodeField/gochat/im-infra/etcd/manager.go:59\nmain.managerExample\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:81\nmain.main\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:33\nruntime.main\n\t/opt/homebrew/Cellar/go/1.24.3/libexec/src/runtime/proc.go:283"}
{"level":"error","timestamp":"2025-07-21T23:15:36.615+0800","module":"etcd","caller":"etcd-client/example_usage.go:83","message":"创建管理器失败","error":"[CONFIGURATION_ERROR] failed to initialize manager components: [CONNECTION_ERROR] failed to connect to etcd: [CONNECTION_ERROR] failed to connect to etcd: context deadline exceeded","stacktrace":"main.managerExample\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:83\nmain.main\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:33\nruntime.main\n\t/opt/homebrew/Cellar/go/1.24.3/libexec/src/runtime/proc.go:283"}
{"level":"info","timestamp":"2025-07-21T23:15:36.615+0800","module":"etcd","caller":"etcd-client/example_usage.go:104","message":"=== 服务注册和发现示例 ==="}
{"level":"info","timestamp":"2025-07-21T23:15:36.616+0800","module":"etcd","caller":"etcd/manager.go:37","message":"开始创建 etcd 管理器"}
{"level":"info","timestamp":"2025-07-21T23:15:36.616+0800","module":"etcd","caller":"etcd/manager.go:44","message":"etcd 管理器配置","endpoints":["localhost:2379"],"dial_timeout":5,"service_prefix":"/services","default_ttl":30}
{"level":"info","timestamp":"2025-07-21T23:15:36.616+0800","module":"etcd","caller":"etcd/manager.go:57","message":"开始初始化组件"}
{"level":"info","timestamp":"2025-07-21T23:15:36.616+0800","module":"etcd","caller":"etcd/options.go:328","message":"etcd info","args":["开始初始化 etcd 组件"]}
{"level":"debug","timestamp":"2025-07-21T23:15:36.616+0800","module":"etcd","caller":"etcd/options.go:323","message":"etcd debug","args":["创建连接管理器"]}
{"level":"info","timestamp":"2025-07-21T23:15:36.616+0800","module":"etcd","caller":"etcd/options.go:328","message":"etcd info","args":["建立 etcd 连接",{"Key":"endpoints","Type":1,"Integer":0,"String":"","Interface":["localhost:2379"]}]}
{"level":"error","timestamp":"2025-07-21T23:15:41.617+0800","module":"etcd","caller":"etcd/options.go:338","message":"etcd error","args":["连接 etcd 失败",{"Key":"error","Type":26,"Integer":0,"String":"","Interface":{"type":"CONNECTION_ERROR","code":1000,"message":"failed to connect to etcd","cause":{}}}],"stacktrace":"github.com/ceyewan/gochat/im-infra/etcd.(*ClogAdapter).Error\n\t/Users/harrick/CodeField/gochat/im-infra/etcd/options.go:338\ngithub.com/ceyewan/gochat/im-infra/etcd.(*etcdManager).initializeComponents\n\t/Users/harrick/CodeField/gochat/im-infra/etcd/manager.go:89\ngithub.com/ceyewan/gochat/im-infra/etcd.NewEtcdManager\n\t/Users/harrick/CodeField/gochat/im-infra/etcd/manager.go:58\nmain.serviceRegistryExample\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:110\nmain.main\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:36\nruntime.main\n\t/opt/homebrew/Cellar/go/1.24.3/libexec/src/runtime/proc.go:283"}
{"level":"error","timestamp":"2025-07-21T23:15:41.617+0800","module":"etcd","caller":"etcd/manager.go:59","message":"初始化组件失败","error":"[CONNECTION_ERROR] failed to connect to etcd: [CONNECTION_ERROR] failed to connect to etcd: context deadline exceeded","stacktrace":"github.com/ceyewan/gochat/im-infra/etcd.NewEtcdManager\n\t/Users/harrick/CodeField/gochat/im-infra/etcd/manager.go:59\nmain.serviceRegistryExample\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:110\nmain.main\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:36\nruntime.main\n\t/opt/homebrew/Cellar/go/1.24.3/libexec/src/runtime/proc.go:283"}
{"level":"error","timestamp":"2025-07-21T23:15:41.617+0800","module":"etcd","caller":"etcd-client/example_usage.go:112","message":"创建管理器失败","error":"[CONFIGURATION_ERROR] failed to initialize manager components: [CONNECTION_ERROR] failed to connect to etcd: [CONNECTION_ERROR] failed to connect to etcd: context deadline exceeded","stacktrace":"main.serviceRegistryExample\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:112\nmain.main\n\t/Users/harrick/CodeField/gochat/im-infra/etcd-client/example_usage.go:36\nruntime.main\n\t/opt/homebrew/Cellar/go/1.24.3/libexec/src/runtime/proc.go:283"}
{"level":"info","timestamp":"2025-07-21T23:15:41.618+0800","module":"etcd","caller":"etcd-client/example_usage.go:38","message":"etcd 示例程序结束"}
